<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>웹스토리지 - 지정/조회/삭제</title>
  <script type="text/javascript">
    var key, val, result;

    window.onload = function() {
      key = document.getElementById("key");
      val = document.getElementById("val");
      result = document.getElementById("result");
    }

    function save() {
      if (key.value == "") {
        alert("키를 입력하세요"); key.focus(); return;
      }
      if (val.value == "") {
        alert("값을 입력하세요"); val.focus(); return;
      }
      localStorage.setItem(key.value, val.value);
      alert("로컬스토리지에 저장되었습니다.");
      key.value = ""; 
      val.value = "";
      key.focus();
    }

    function selectOne() {
      if (key.value == "") {
        alert("조회할 키를 입력하세요"); key.focus(); return;
      }
      var sValue = localStorage.getItem(key.value);
      alert("'" + key.value + "' 로 조회한 결과: " + sValue);
    }

    function selectAll() {
      result.value = "";
      for (var i = 0; i < localStorage.length; i++) {
        var k = localStorage.key(i);
        result.value += k + ":" + localStorage.getItem(k) + "\r\n";
      }
    }

    function removeOne() {
      if (key.value == "") {
        alert("키를 입력하신 후 삭제하세요"); key.focus(); return;
      }
      localStorage.removeItem(key.value);
      alert("해당 키가 삭제되었습니다.");
    }

    function removeAll() {
      localStorage.clear();
      alert("웹스토리지에 저장된 모든 데이터가 삭제되었습니다.");
    }
  </script>
</head>
<body>
  <h2>웹스토리지 - 지정/조회/삭제</h2>
  <table border="1" style="width: 50%; margin: auto; background-color: rgb(245, 236, 106);">
    <tr>
      <td style="width: 15%;">키(Key)</td>
      <td><input type="text" id="key" /></td>
    </tr>
    <tr>
      <td style="width: 15%;">값(Value)</td>
      <td><input type="text" id="val" /></td>
    </tr>
    <tr>
      <td colspan="2" style="text-align: center;">
        <input type="button" value="저장하기" onclick="save();" />
        <input type="button" value="키로 조회" onclick="selectOne();" />
        <input type="button" value="모두 조회" onclick="selectAll();" />
        <input type="button" value="하나 삭제" onclick="removeOne();" />
        <input type="button" value="모두 삭제" onclick="removeAll();" />
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <textarea id="result" style="width: 100%; height: 200px;"></textarea>
      </td>
    </tr>
  </table>
</body>
</html>
